if(typeof YAHOO==="undefined"){YAHOO={}}if(typeof YAHOO.JP==="undefined"){YAHOO.JP={}}if(typeof YAHOO.JP.Follow==="undefined"){YAHOO.JP.Follow={}}(function(a){YAHOO.JP.Follow.Sticker={_CUSTOM:{},init:function(d){var b={list:"sticker/list/",single:"sticker/single/",list_vertical:"sticker/list/vertical/"};var e=this,c=d.stckrClass;this._CUSTOM[c]=d;this._CUSTOM[c].stckrClass=d.stckrClass||"yjxTheme";this._CUSTOM[c].stckrSize=d.stckrSize||"wide";this._CUSTOM[c].isCache=d.isCache||false;this._CUSTOM[c].stckrTypePath=b[d.stckrType]||b.list;this._CUSTOM[c].frameWidth=d.frameWidth||"100%";if(window.onpageshow===null){a(window).bind("pageshow",function(f){e.render(true,c)})}else{e.render(true,c)}},render:function(d,c){var e=this,b=a("."+e._CUSTOM[c].stckrClass);b.each(function(){var f=a(this);if((f.attr("data-theme-ids")||f.attr("data-theme-name")||f.attr("data-article-id"))&&f.attr("data-destination-type")){var i=(typeof f.attr("data-theme-ids")!=="undefined")?f.attr("data-theme-ids"):"";var n=(typeof f.attr("data-theme-name")!=="undefined")?f.attr("data-theme-name"):"";var s=(typeof f.attr("data-article-id")!=="undefined")?f.attr("data-article-id"):"";var m=(typeof f.attr("data-destination-type")!=="undefined")?f.attr("data-destination-type"):"";var j=(typeof f.attr("data-ult-sid")!=="undefined")?f.attr("data-ult-sid"):"";var r=(typeof f.attr("data-ult-sec")!=="undefined")?f.attr("data-ult-sec"):"";var o=(typeof f.attr("data-theme-count")!=="undefined")?f.attr("data-theme-count"):3;var h=(typeof f.attr("data-ult-vtestid")!=="undefined")?f.attr("data-ult-vtestid"):"";var q=(typeof f.attr("data-ult-v_pkjp")!=="undefined")?f.attr("data-ult-v_pkjp"):"";var l=(typeof f.attr("id")!=="undefined")?f.attr("id")+"_frame":"themeSticker";var k=(typeof f.attr("data-alternative")!=="undefined")?f.attr("data-alternative"):"";var g=(typeof f.attr("data-newsui")!=="undefined")?f.attr("data-newsui"):"";var t=(typeof f.attr("id")!=="undefined")?f.attr("id"):"";var p=(typeof f.attr("data-bucket")!=="undefined")?f.attr("data-bucket"):"";if(d===true||f.find("iframe").length===0){f.html(e.createIframe(i,n,s,m,o,j,r,h,q,l,k,g,t,c,p))}}})},bind:function(){var b=this;a(window).bind("message",function(c){b.resizeIframe(c)})},createIframe:function(p,e,m,o,t,l,b,s,c,n,j,d,r,f,i){a("#"+r).attr({style:"height:0"});if(!p&&!e&&!m){return}var q=this,k=a("<iframe>").attr({id:n,frameborder:"0",scrolling:"no",allowtransparency:"true",style:"vertical-align: bottom;"});var h={tids:p,tname:e,aid:m,dtype:o,size:q._CUSTOM[f].stckrSize,sid:l,sec:b,results:t,vtestid:s,v_pkjp:c,frameid:n,alternative:j,newsui:d,bucket:i};var g="https://follow.yahoo.co.jp/plugin/";if(q._CUSTOM[f].isCache){g+="cache/"}g+=q._CUSTOM[f].stckrTypePath;k.attr({src:g+"?"+a.param(h),width:q._CUSTOM[f].frameWidth,height:0});return k},resizeIframe:function(d){var h=this;var g=[];if(typeof(d.originalEvent.data)!=="string"){return}var b=d.originalEvent.data.split("&");for(var c=0;c<b.length;c++){var e=b[c].split("=");g[e[0]]=e[1]}if("frameid" in g&&"height" in g){var f=a("iframe#"+g.frameid);f.attr({height:g.height});f.parent("div").attr({style:"height:"+g.height})}}}}(jQuery));